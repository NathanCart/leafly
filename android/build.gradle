// android/build.gradle

// ──────────────────────────────────────────────────────────────────────────────
// 1) PROJECT-WIDE EXT BLOCK (MUST be FIRST)
ext {
    compileSdkVersion = 35
    buildToolsVersion = "35.0.0"
    minSdkVersion     = 24
    targetSdkVersion  = 34
    ndkVersion        = "26.1.10909125"
}

// ──────────────────────────────────────────────────────────────────────────────
// 2) Buildscript & Plugins
buildscript {
    repositories {
        google()
        mavenCentral()
    }
    dependencies {
        classpath("com.android.tools.build:gradle:8.4.0")
        classpath("com.facebook.react:react-native-gradle-plugin")
        classpath("org.jetbrains.kotlin:kotlin-gradle-plugin:1.9.25")
    }
}

apply plugin: "com.facebook.react.rootproject"

// ──────────────────────────────────────────────────────────────────────────────
// 3) All-projects Repositories
allprojects {
    repositories {
        // RN artifacts from node_modules
        maven {
            url new File(
              ['node','--print',"require.resolve('react-native/package.json')"]
                .execute(null, rootDir).text.trim(),
              '../android'
            )
        }
        maven {
            url new File(
              ['node','--print',"require.resolve('jsc-android/package.json', { paths: [require.resolve('react-native/package.json')] })"]
                .execute(null, rootDir).text.trim(),
              '../dist'
            )
        }
        google()
        mavenCentral()
        maven { url "https://www.jitpack.io" }
    }
}
